openapi: 3.0.3
info:
  title: 공예쁨 Swagger
  description: |-
    공예쁨 서비스를 위한 개발 서버 전용 API SPEC 입니다.
  version: 1.0.11
servers:
  - url: https://dev.leporem.art
components:
  securitySchemes:
    leporemartTokenAuth:
      type: http
      scheme: bearer
security:
  - leporemartTokenAuth: []
tags:
  - name: users
    description: 사용자 관리
  - name: buyers
    description: 구매자 관리
  - name: sellers
    description: 판매자 관리
  - name: items
    description: 작품 관리
  - name: notifications
    description: 알림 관리
  - name: exhibitions
    description: 전시 관리
  - name: orders
    description: 주문 관리

paths:
  /users/signup/kakao:
    post:
      tags:
        - users
      summary: 카카오 회원가입
      description: 카카오로 회원가입합니다.
      requestBody:
        description: ID 토큰을 통하여 카카오 회원가입을 처리합니다.
        content:
          application/json:
            schema:
              type: object
              properties:
                id_token:
                  type: string
                  example: Leporemart33!
                is_argree_privacy:
                  type: boolean
                  example: true
                is_agree_terms:
                  type: boolean
                  example: true
                is_agree_ads:
                  type: boolean
                  example: true
                nickname:
                  type: string
                  example: 공예쁨
        required: true
      responses:
        '201':
          description: 회원가입 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      access_token:
                        type: string
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IktBS0FPIiwiZW1haWwiOiIyOTE5MzQ2MzEwIiwiZXhwIjoxNjkyMTE2MDU1LCJpYXQiOjE2OTIxMDUyNTV9.gjxXxYzfNzVHCRNSQgKDO2QRdjzPi_WnMKEbRX8G7mg
                      refresh_token:
                        type: string
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IktBS0FPIiwiZW1haWwiOiIyOTE5MzQ2MzEwIiwiZXhwIjoxNzA3NjU3MjU1LCJpYXQiOjE2OTIxMDUyNTV9.ZjwtgdnADBuw-Hkv5rxRXnv8br5s0UWz3ym0FhvbHG4
                      access_exp: 
                        type: integer
                        example: 1692116055
        '400':
          description: 회원가입 실패
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: 실패 원인
                    example: duplicate nickname
  
  /users/login/kakao:
    post:
      tags:
        - users
      summary: 카카오 로그인 API
      description: 카카오 로그인 url 입니다.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                id_token:
                  type: string
                  example: eyJraWQiOiI5ZjI1MmRhZGQ1ZjIzM2Y5M2QyZmE1MjhkMTJmZWEiLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI4YWVhYzliYjE4ZjQyMDYwYTIzMzI4ODU1NzdiOGNiOSIsInN1YiI6IjI5MTkzNDYzMTAiLCJhdXRoX3RpbWUiOjE2OTIxMDQyOTEsImlzcyI6Imh0dHBzOi8va2F1dGgua2FrYW8uY29tIiwiZXhwIjoxNjkyMTQ3NDkxLCJpYXQiOjE2OTIxMDQyOTF9.aC8-RvYFfoNLf8ZrL1MjwQoQWQ8CGVnc4SwDWFTsUfqwso08XwKdbR6YueK0d3uZShc50XSo94afruuV622MSvvtrYXFG4MtGTYu3BrmxeTnHyzTMVVEdYb5mpgOodbALWQH_BFepfZ-c8bry5hMELZSpDxDy-DidfhCuFDTOc1bq1phXwCk4b6vMXf9Ggfa8dAXzlEmMSVrAvsOc_4N4QF14NOnFVLJMVvzx6J9Upih7MowaAIx74zSeATbOifkGx9NwGDqVekC3GzVcddQdwNEgFDP_X0rKa4m9v8Y8JpLezB17TENzHjBsPtmCewvZp2HODMtDXF4-jW_v3Q3tA
        required: true          
      responses:
        '200':
          description: 카카오 로그인 성공, 공예쁨에 존재하는 사용자
          content:
            application/json:
              schema:
                type: object
                properties:
                  user_id:
                    type: integer
                    example: 1
                  is_seller:
                    type: boolean
                    example: true
                  nickname:
                    type: string
                    example: 공예쁨
                  access_token:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IktBS0FPIiwiZW1haWwiOiIyOTE5MzQ2MzEwIiwiZXhwIjoxNjkyMTE2MDU1LCJpYXQiOjE2OTIxMDUyNTV9.gjxXxYzfNzVHCRNSQgKDO2QRdjzPi_WnMKEbRX8G7mg
                  refresh_token:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IktBS0FPIiwiZW1haWwiOiIyOTE5MzQ2MzEwIiwiZXhwIjoxNzA3NjU3MjU1LCJpYXQiOjE2OTIxMDUyNTV9.ZjwtgdnADBuw-Hkv5rxRXnv8br5s0UWz3ym0FhvbHG4
                  access_exp:
                    type: integer
                    example: 1692116055
        '403':
          description: 카카오 로그인 성공, 공예쁨에 존재하지 않는 사용자
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: signin failed


  /users/redirect/apple:
    get:
      tags: 
        - users
      summary: 애플 로그인 Redirect URI
      description: 애플 로그인 리다이렉트 uri 입니다.
      responses:
        '200':
          description: 애플 로그인 성공, 공예쁨에 존재하는 사용자
          content:
            application/json:
              example:
                message: success
                data:
                  user_id: 4
                  is_seller: false
                  nickname: 옥지얌
                  access_token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IkFQUExFIiwiZW1haWwiOiIwMDAzMTkuYWIwYjk0NTNhMWE5NDgxNzhiOGQ4MWE5NzRjN2YwMTUuMTcyMiIsImV4cCI6MTY5MjAzOTA4NCwiaWF0IjoxNjkyMDI4Mjg0fQ.-Y5RtpVnB1zXQksA9fNKXYCB3D_qMfInXMTYbLp8NNE
                  refresh_token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IkFQUExFIiwiZW1haWwiOiIwMDAzMTkuYWIwYjk0NTNhMWE5NDgxNzhiOGQ4MWE5NzRjN2YwMTUuMTcyMiIsImV4cCI6MTcwNzU4MDI4NCwiaWF0IjoxNjkyMDI4Mjg0fQ.XWeYAH80bEMfwQCG9bQTrd-46zP5bACEKSw9cSBLRiU
                  access_exp: 1692039084
        '404':
          description: 애플 로그인 성공, 공예쁨에 존재하지 않는 사용자
          content:
            application/json:
              example:
                message: signup required
                user_data: 000319.ab0b9453a1a948178b8d81a974c7f015.1722
  
  /users/login/apple:
    get:
      tags: 
        - users
      summary: 애플 로그인
      description: 애플 로그인입니다.
      parameters:
        - in: query
          name: code
          schema:
            type: string
          required: true
      responses:
        '200':
          description: 애플 로그인 성공, 공예쁨에 존재하는 사용자
          content:
            application/json:
              example:
                message: success
                data:
                  user_id: 4
                  is_seller: false
                  nickname: 옥지얌
                  access_token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IkFQUExFIiwiZW1haWwiOiIwMDAzMTkuYWIwYjk0NTNhMWE5NDgxNzhiOGQ4MWE5NzRjN2YwMTUuMTcyMiIsImV4cCI6MTY5MjAzOTA4NCwiaWF0IjoxNjkyMDI4Mjg0fQ.-Y5RtpVnB1zXQksA9fNKXYCB3D_qMfInXMTYbLp8NNE
                  refresh_token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IkFQUExFIiwiZW1haWwiOiIwMDAzMTkuYWIwYjk0NTNhMWE5NDgxNzhiOGQ4MWE5NzRjN2YwMTUuMTcyMiIsImV4cCI6MTcwNzU4MDI4NCwiaWF0IjoxNjkyMDI4Mjg0fQ.XWeYAH80bEMfwQCG9bQTrd-46zP5bACEKSw9cSBLRiU
                  access_exp: 1692039084
        '404':
          description: 애플 로그인 성공, 공예쁨에 존재하지 않는 사용자
          content:
            application/json:
              example:
                message: signup required
                user_data: 000319.ab0b9453a1a948178b8d81a974c7f015.1722

  /users/signup/apple:
    post:
      tags:
        - users
      summary: 애플 회원가입
      description: 애플 로그인 유저 회원가입입니다.
      requestBody:
        content:
          application/json:
            schema:
              properties:
                user_data: 
                  type: string
                  example: 000319.ab0b9453a1a948178b8d81a974c7f015.1722
                is_argree_privacy:
                  type: boolean
                  example: true
                is_agree_terms:
                  type: boolean
                  example: true
                is_agree_ads:
                  type: boolean
                  example: false
                nickname:
                  type: string
                  example: 옥지얌
        required: true
      responses:
        '201':
          description: 회원가입 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: signup successful
                  data:
                    type: object
                    properties:
                      access_token:
                        type: string
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IkFQUExFIiwiZW1haWwiOiIwMDAzMTkuYWIwYjk0NTNhMWE5NDgxNzhiOGQ4MWE5NzRjN2YwMTUuMTcyMiIsImV4cCI6MTY5MjAzOTA4NCwiaWF0IjoxNjkyMDI4Mjg0fQ.-Y5RtpVnB1zXQksA9fNKXYCB3D_qMfInXMTYbLp8NNE
                      refresh_token:
                        type: string
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IkFQUExFIiwiZW1haWwiOiIwMDAzMTkuYWIwYjk0NTNhMWE5NDgxNzhiOGQ4MWE5NzRjN2YwMTUuMTcyMiIsImV4cCI6MTcwNzU4MDI4NCwiaWF0IjoxNjkyMDI4Mjg0fQ.XWeYAH80bEMfwQCG9bQTrd-46zP5bACEKSw9cSBLRiU
                      access_exp:
                        type: integer
                        example: 1692039084
        '400':
          description: 회원가입 실패
          content:
            application/json:
              examples:
                duplicate nickname:
                  value:
                    message: 중복된 닉네임입니다.
                duplicate user info:
                  value:
                    message: 중복된 유저 정보입니다.
                
  /users/refresh:
    post:
      tags:
        - users
      summary: 토큰 재발급
      description: 토큰 재발급입니다.
      requestBody:
        content:
          application/json:
            schema:
              properties:
                refresh_token:
                  type: string
                  example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IkFQUExFIiwiZW1haWwiOiIwMDAzMTkuNDA0N2MzMGQ0MDQ2NDRmOTlmMTVmZWZiODQxYmIwOGIuMDIzOSIsImV4cCI6MTcxMDU2Mzg2NywiaWF0IjoxNjk1MDExODY3fQ.wfILCBkBOQQMHGFwRaguKkhfV50lyNREMUYq0CSxkLY
          required: true
      security:
        - leporemartTokenAuth: []
      responses:
        '200':
          description: 토큰 갱신 성공
          content:
            application/json:
              example:
                message: token refreshed successful
                data:
                  access_token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IkFQUExFIiwiZW1haWwiOiIwMDAzMTkuYWIwYjk0NTNhMWE5NDgxNzhiOGQ4MWE5NzRjN2YwMTUuMTcyMiIsImV4cCI6MTY5MjAzOTA4NCwiaWF0IjoxNjkyMDI4Mjg0fQ.-Y5RtpVnB1zXQksA9fNKXYCB3D_qMfInXMTYbLp8NNE
                  refresh_token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm92aWRlciI6IkFQUExFIiwiZW1haWwiOiIwMDAzMTkuYWIwYjk0NTNhMWE5NDgxNzhiOGQ4MWE5NzRjN2YwMTUuMTcyMiIsImV4cCI6MTcwNzU4MDI4NCwiaWF0IjoxNjkyMDI4Mjg0fQ.XWeYAH80bEMfwQCG9bQTrd-46zP5bACEKSw9cSBLRiU

        '400':
          description: refresh token 존재하지 않습니다.
          content:
            application/json:
              example:
                message: refresh_token을 보내주세요.
                code: JWT_400_NOT_FOUND_TOKEN

        '403':
          description: 잘못된 토큰입니다.
          content:
            application/json:
              example:
                message: 잘못된 토큰입니다.
                code: JWT_403_INVALID_ACCESSTOKEN
  /items:
    get:
      tags:
        - items
      summary: 전체 작품 조회
      description: 전체 작품을 조회합니다.
      parameters:
        - name: page_number
          in: query
          schema:
            type: integer
        - name: ordering
          in: query
          schema:
            type: string
        - name: category
          in: query
          schema:
            type: string
        - name: nickname
          in: query
          schema:
            type: string
          description: 판매자용 전체 작품 조회
        - name: search
          in: query
          schema:
            type: string
        - name: price
          in: query
          schema:
            type: integer
            format: int64
            minimum: 1000
            maximum: 1000000
      security:
        - leporemartTokenAuth: []
          description: access token 존재 유무에 따라 회원과 비회원 구분합니다.
      responses:
        '200':
          description: 전체 작품 조회 성공
          content:
            application/json:
              example:
                list: {
                    total_count: 1,
                    items: [
                        {
                            item_id: 1,
                            nickname: 하잉,
                            title: zzㅋㅋ123,
                            price: 2345,
                            thumbnail_image: "https://leporem-art-media-dev.s3.amazonaws.com/items/item_image/a54e4678-da0e-4098-aec9-40cd440be128.jpg",
                            like_count: 1,
                            avg_rating: null,
                            time_diff: "32 22:40:07.055202",
                            current_amount: 0,
                            is_liked: false
                        }
                    ]
                }
        '400':
          description: 전체 작품 조회 실패
          content:
            application/json:
              examples:
                PageNotAnInteger:
                  value:
                    message: PageNotAnInteger
                EmptyPage:
                  value:
                    message: EmptyPage
  /items/filter:
    get:
      tags:
        - items
      summary: 회원 전체 작품 조회
      description: 회원일 때, 전체 작품을 조회합니다.
      parameters:
        - name: page_number
          in: query
          schema:
            type: integer
        - name: ordering
          in: query
          schema:
            type: string
        - name: category
          in: query
          schema:
            type: string
        - name: nickname
          in: query
          schema:
            type: string
          description: 판매자용 전체 작품 조회
        - name: search
          in: query
          schema:
            type: string
        - name: price
          in: query
          schema:
            type: integer
            format: int64
            minimum: 1000
            maximum: 1000000
      security:
        - leporemartTokenAuth: []
      responses:
        '200':
          description: 전체 작품 조회 성공
          content:
            application/json:
              example:
                list: {
                  total_count: 1,
                  items: [
                    {
                      item_id: 1,
                      nickname: 하잉,
                      title: zzㅋㅋ123,
                      price: 2345,
                      thumbnail_image: "https://leporem-art-media-dev.s3.amazonaws.com/items/item_image/a54e4678-da0e-4098-aec9-40cd440be128.jpg",
                      like_count: 1,
                      avg_rating: null,
                      time_diff: "32 22:40:07.055202",
                      current_amount: 0,
                      is_liked: false
                    }
                  ]
                }
        '400':
          description: 전체 작품 조회 실패
          content:
            application/json:
              examples:
                PageNotAnInteger:
                  value:
                    message: PageNotAnInteger
                EmptyPage:
                  value:
                    message: EmptyPage
  /items/guest:
    get:
      tags:
        - items
      summary: 비회원 전체 작품 조회
      description: 비회원일 때, 전체 작품을 조회합니다.
      parameters:
        - name: page_number
          in: query
          schema:
            type: integer
        - name: ordering
          in: query
          schema:
            type: string
        - name: category
          in: query
          schema:
            type: string
        - name: nickname
          in: query
          schema:
            type: string
        - name: search
          in: query
          schema:
            type: string
        - name: price
          in: query
          schema:
            type: integer
            format: int64
            minimum: 1000
            maximum: 1000000
      responses:
        '200':
          description: 전체 작품 조회 성공
          content:
            application/json:
              example:
                list: {
                  total_count: 1,
                  items: [
                    {
                      item_id: 1,
                      nickname: 하잉,
                      title: zzㅋㅋ123,
                      price: 2345,
                      thumbnail_image: "https://leporem-art-media-dev.s3.amazonaws.com/items/item_image/a54e4678-da0e-4098-aec9-40cd440be128.jpg",
                      like_count: 1,
                      avg_rating: null,
                      time_diff: "32 22:40:07.055202",
                      current_amount: 0,
                      is_liked: false
                    }
                  ]
                }
        '400':
          description: 전체 작품 조회 실패
          content:
            application/json:
              examples:
                PageNotAnInteger:
                  value:
                    message: PageNotAnInteger
                EmptyPage:
                  value:
                    message: EmptyPage

  /notifications/register:
    post:
      tags:
        - notifications
      summary: 푸시 알림 기기 등록
      description: 푸시 알림 기기를 등록합니다.
      requestBody:
        content:
          application/json:
            schema:
              properties:
                device_token:
                  type: string
                  example: fyBSTdnGQ9CBZviM_X3M4o:APA91bFoROw8QK6Q5Twu6AFVHWgf1CSLPdJgiRbaJpCKd_YqcWI6s07WmrDZE_ZPdDUq0R_P8IvvqCWsuJ21rrqwkiZoifV7CZWSvwfykgxdeu3tw1QJP5buat9FpAFDDJfhQZ_3qs9u
        required: true
      security:
        - leporemartTokenAuth: []
      responses:
        '201':
          description: 푸시 알림 기기 등록 성공
          content:
            application/json:
              example:
                message: success
        '400':
          description: 푸시 알림 기기 등록 실패
          content:
            application/json:
              example:
                message: failed

  /notifications/specific:
    get:
      tags:
        - notifications
      summary: 싱글 유저 푸시 알림
      description: 싱글 유저에게 푸시 알림을 보냅니다.
      parameters:
        - name: token
          in: query
          schema:
            type: string
        - name: title
          in: query
          schema:
            type: string
        - name: body
          in: query
          schema:
            type: string
        - name: deep_link
          in: query
          schema:
            type: string
      security:
        - leporemartTokenAuth: []
      responses:
        '200':
          description: 싱글 유저 푸시 알림 성공
          content:
            application/json:
              example:
                message: success

  /exhibitions/register:
    post:
      tags:
        - exhibitions
      summary: 전시 등록
      description: 전시를 등록합니다.
      requestBody:
        content:
          application/json:
            schema:
              properties:
                nickname:
                  type: string
                  example: 옥지얌
                start_date:
                  type: string
                  example: 2023-10-05 10:00
                end_date:
                  type: string
                  example: 2023-10-12 10:00
        required: True
      security:
        - leporemartTokenAuth: []
      responses:
        '201':
          description: 전시 등록 성공
          content:
            application/json:
              example:
                message: success

  /exhibitions/{exhibition_id}/info:
    get:
      tags:
        - exhibitions
      summary: 전시 정보 조회
      parameters:
        - name: exhibition_id
          in: path
          schema:
            type: integer
          required: true
      responses:
        '200':
          description: 전시 정보 조회 성공
          content:
            application/json:
              schema:
                properties:
                  title:
                    type: string
                  cover_image:
                    type: string
                    example: "https://leporem-art-media-dev.s3.amazonaws.com/exhibitions/exhibition_cover_image/a5f97"
                  artist_name:
                    type: string
                  biography:
                    type: string
                  status:
                    type: string
                    example: "작가 소개 작성 완료"
                  start_date:
                    type: string
                    example: "2021-10-05 10:00"
                  end_date:
                    type: string
                    example: "2021-10-12 10:00"

  /exhibitions/{exhibiton_id}/artist-info:
    put:
      tags:
        - exhibitions
      summary: 전시전 작가 정보 등록
      description: 전시전 작가 정보를 등록 및 수정합니다. 항상 201로 멱등성을 유지합니다.
      parameters:
        - name: exhibition_id
          in: path
          schema:
            type: integer
          required: true
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                is_template:
                  type: boolean
                  example: true
                artist_image:
                  type: string
                  format: binary
                  description: 작가 사진 or 작가 소개 사진 파일
                biography:
                  type: string
                  description: 작가 소개 (is_template이 true인 경우에만 입력)
                font_family:
                  type: string
                  description: 폰트 (is_template이 true인 경우에만 입력)
                background_color:
                  type: string
                  description: 배경색 (is_template이 true인 경우에만 입력)
      security:
        - leporemartTokenAuth: []
      responses:
        '200':
          description: 전시전 작가 정보 등록 성공
          content:
            application/json:
              example:
                message: success

    get:
      tags:
        - exhibitions
      summary: 전시전 작가 정보 조회
      parameters:
        - name: exhibition_id
          in: path
          schema:
            type: integer
          required: true
      responses:
          '200':
            description: 전시전 작가 정보 조회 성공
            content:
              application/json:
                schema:
                  properties:
                    artist_image:
                      type: string
                      example: https://leporem-art-media-dev.s3.amazonaws.com/exhibitions/artist_image/1d2b2b9e-9b0a-4b0e-9b0a-4b0e9b0a4b0e.jpeg
                    is_template:
                      type: boolean
                      example: true
                    biography:
                      type: string
                      example: "안녕하세요. 저는 작가입니다."
                    font_family:
                      type: string
                      example: "Pretendard Variable"
                    background_color:
                      type: string
                      example: "#FFFFFF"

  /exhibitions/{exhibition_id}/items-info:
    get:
      tags:
        - exhibitions
      summary: 전시전 작품 정보 조회
      parameters:
        - name: exhibition_id
          in: path
          schema:
            type: integer
          required: true
      responses:
        '200':
          description: 전시전 작품 정보 조회 성공
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    exhibition_item_id:
                      type: integer
                    item_id:
                      type: integer
                    title:
                      type: string
                    description:
                      type: string
                    template:
                      type: integer
                    is_sale:
                      type: boolean
                    background_color:
                      type: string
                      example: "FFFFFFF"
                    font_family:
                      type: string
                      example: "Pretendard Variable"
                    is_custom:
                      type: boolean
                    images:
                      type: array
                      items:
                        type: string
                        example: "https://leporem-art-media-dev.s3.amazonaws.com/items/item_image/1d2b2b9e-9b0a-4b0e-9b0a-4b0e9b0a4b0e.jpeg"
                    sounds:
                      type: array
                      items:
                        type: string
                        example: "https://leporem-art-media-dev.s3.amazonaws.com/items/item_sound/1d2b2b9e-9b0a-4b0e-9b0a-4b0e9b0a4b0e.mp3"



  /exhibitions/{exhibition_id}/introduction:
    get:
      tags:
        - exhibitions
      summary: 전시전 소개 조회
      description: 전시전 소개를 조회합니다.
      parameters:
        - name: exhibition_id
          in: path
          description: 전시 ID
          required: true
          schema:
            type: integer
      security:
        - leporemartTokenAuth: []
      responses:
        '200':
          description: 전시 소개 조회 성공
          content:
            application/json:
              example:
                {
                  title: "Bing Image Exhibition",
                  cover_image: "https://leporem-art-media-dev.s3.amazonaws.com/exhibitions/exhibition_cover_image/a5f97d38-083a-489f-b811-4e7ba2b29d7d.jpeg",
                  artist_name: "Yujeong Jeong"
                }
    patch:
      tags:
        - exhibitions
      summary: 전시전 소개 수정
      description: 전시전 소개를 수정합니다.
      requestBody:
        content:
          application/json:
            schema:
              properties:
                title:
                  type: string
                  example: Bing Image Exhibition
                cover_image:
                  type: string
                  example: 전시전 이미지.jpeg
                artist_name:
                  type: string
                  example: Yujeong Jeong
        required: True
      security:
        - leporemartTokenAuth: []
      responses:
        '200':
          description: 기획전 소개 수정 성공
          content:
            application/json:
              example:
                message: success

  /exhibitions/buyer:
    get:
      tags:
        - exhibitions
      summary: 구매자 전시전 목록 조회
      description: 무작위 순서로 구매자 전시전 목록을 조회합니다.
      security:
        - leporemartTokenAuth: []
      responses:
        '200':
          description: 구매자 전시전 목록 조회 성공
          content:
            application/json:
              example:
                [
                  {
                    exhibition_id: 2,
                    cover_image: "exhibitions/exhibition_cover_image/a5f97d38-083a-489f-b811-4e7ba2b29d7d.jpeg",
                    title: "Bing Image Exhibition",
                    artist_name: "Yujeong Jeong",
                    start_date: "2023-10-05T10:00:00Z",
                    end_date: "2023-10-12T10:00:00Z"
                  }
                ]
  /exhibitions/seller:
    get:
      tags:
        - exhibitions
      summary: 판매자 전시전 목록 조회
      description: 최신순으로 판매자 기획전 전시전 조회합니다.
      security:
          - leporemartTokenAuth: []
      responses:
        '200':
          description: 판매자 전시전 목록 조회 성공
          content:
            application/json:
              example:
                [
                  {
                    exhibition_id: 3,
                    title: "Disney Image Exhibition",
                    cover_image: "https://leporem-art-media-dev.s3.amazonaws.com/exhibitions/exhibition_cover_image/86c3cc52-cffa-41b7-b133-6e26319b7934.jpeg",
                    artist_name: "Yujeong Jeong",
                    start_date: "2023-10-08T11:00:00Z",
                    end_date: "2023-10-15T11:00:00Z"
                  },
                  {
                    exhibition_id: 2,
                    title: "Bing Image Exhibition",
                    cover_image: "https://leporem-art-media-dev.s3.amazonaws.com/exhibitions/exhibition_cover_image/a5f97d38-083a-489f-b811-4e7ba2b29d7d.jpeg",
                    artist_name: "Yujeong Jeong",
                    start_date: "2023-10-05T10:00:00Z",
                    end_date: "2023-10-12T10:00:00Z"
                  }
                ]
  /exhibitions/{int:exhibition_id}/item:
    post:
      tags:
        - exhibitions
      summary: 전시전 작품 등록
      description: 전시전에 작품을 등록합니다.
      parameters:
        - name: exhibition_id
          in: path
          description: 전시 ID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                is_custom:
                  type: boolean
                  example: true
                  required: True
                template:
                  type: integer
                  example: 1
                title:
                  type: string
                  example: "생명의 세계"
                  required: True
                description:
                    type: string
                    example: "도자에서 느껴지는 생명을 표현하였습니다. 그릇에서도 식물이 자라나듯 화이팅!!"
                    required: True
                images:
                  type: array
                  items:
                    type: file
                    format: binary
                  example:
                    - hi.jpg
                    - hello.png
                  required: True
                sound:
                  type: string
                  example: "exhibitions/exhibition_item_sound/SellBuyMusic - C. Hunter - Possum And Taters.mp3"
                position:
                  type: integer
                  example: 1
                  required: True
                background_color:
                  type: string
                  example: "#E8F2DB"
                font_family:
                  type: string
                  example: "전주공예명조체"
                is_sale:
                  type: boolean
                  example: true
                  required: True
                categories:
                  type: array
                  items:
                    type: string
                    format: int
                  example:
                    - 1
                    - 5
                price:
                  type: integer
                  example: 23000
                max_amount:
                  type: integer
                  example: 30
                shorts_url:
                  type: string
                  example: "items/item_shorts/0348f9bb-a42b-4fa8-99af-d7792172e06e.mp4"
              required:
                - is_custom
                - title
                - description
                - images
                - position
                - is_sale
      security:
        - leporemartTokenAuth: []
      responses:
        '201':
          description: 전시전 작품 등록 성공
          content:
            application/json:
              example:
                message: success

  /exhibitions/sound/upload-url:
    get:
      tags:
        - exhibitions
      summary: 전시전 음원 업로드 URL
      description: 전시전 음원 업로드 URL을 받습니다.
      security:
        - leporemartTokenAuth: []
      responses:
        '200':
          description: 전시전 음원 업로드 URL 받기 성공
          content:
            application/json:
              example: {
                "url": "https://leporem-art-media-dev.s3.amazonaws.com/",
                "fields": {
                    "key": "exhibitions/exhibition_item_sound/53c7d8d6-cb69-41e9-bf92-31596b1db095.mp3",
                    "x-amz-algorithm": "AWS4-HMAC-SHA256",
                    "x-amz-credential": "AKIAQKJYH42DT63XEGVU/20231016/ap-northeast-2/s3/aws4_request",
                    "x-amz-date": "20231016T055116Z",
                    "policy": "eyJleHBpcmF0aW9uIjogIjIwMjMtMTAtMTZUMDU6NTY6MTZaIiwgImNvbmRpdGlvbnMiOiBbeyJidWNrZXQiOiAibGVwb3JlbS1hcnQtbWVkaWEtZGV2In0sIHsia2V5IjogImV4aGliaXRpb25zL2V4aGliaXRpb25faXRlbV9zb3VuZC81M2M3ZDhkNi1jYjY5LTQxZTktYmY5Mi0zMTU5NmIxZGIwOTUubXAzIn0sIHsieC1hbXotYWxnb3JpdGhtIjogIkFXUzQtSE1BQy1TSEEyNTYifSwgeyJ4LWFtei1jcmVkZW50aWFsIjogIkFLSUFRS0pZSDQyRFQ2M1hFR1ZVLzIwMjMxMDE2L2FwLW5vcnRoZWFzdC0yL3MzL2F3czRfcmVxdWVzdCJ9LCB7IngtYW16LWRhdGUiOiAiMjAyMzEwMTZUMDU1MTE2WiJ9XX0=",
                    "x-amz-signature": "2d63148b5cca764e9765b881c97eb02a97955d9f33e551c2597e8e6e0b1ae189"
                }
              }

  /orders/register:
    post:
      tags:
        - orders
      summary: 작품 주문
      description: 작품을 주문합니다.
      requestBody:
        content:
          application/json:
            schema:
              properties:
                item_id:
                  type: integer
                  example: 6
          required: true
      security:
        - leporemartTokenAuth: []
      responses:
        '201':
          description: 작품 주문 성공
          content:
            application/json:
              example:
                order_id: 25
        '400':
          description: 작품 주문 실패
          content:
            application/json:
              examples:
                self order:
                  value:
                    message: 자신의 작품은 주문할 수 없습니다.
                out of stock:
                  value:
                    message: 재고가 부족합니다.

  /orders/v1/register:
    post:
      tags:
        - orders
      summary: 작품 주문 v1
      description: 작품을 주문합니다.
      requestBody:
        content:
          application/json:
            schema:
              properties:
                item_id:
                  type: integer
                  example: 6
                name:
                  type: string
                  example: 홍길동
                address:
                  type:
                    string
                  example: 서울특별시 강남구 테헤란로 427
                detail_address:
                  type:
                    string
                  example: 7층, 소프트웨어마에스트로
                zipcode:
                  type: string
                  example: 06159
                phone_number:
                  type: string
                  example: 010-1234-5678
          required: true
      security:
        - leporemartTokenAuth: []
      responses:
        '201':
          description: 작품 주문 성공
          content:
            application/json:
              example:
                order_id: 25
        '400':
          description: 작품 주문 실패
          content:
            application/json:
              examples:
                self order:
                  value:
                    message: 자신의 작품은 주문할 수 없습니다.
                out of stock:
                  value:
                    message: 재고가 부족합니다.

  /buyers/orders/my:
    get:
      tags:
        - buyers
      summary: 구매자 주문 목록 조회
      description: 구매자 주문 목록을 조회합니다.
      security:
          - leporemartTokenAuth: []
      responses:
        '200':
          description: 구매자 주문 목록 조회 성공
          content:
            application/json:
              example:
                [
                  {
                    "order_id": 26,
                    "item_id": 6,
                    "item_title": "작품1",
                    "item_thumbnail_image": "https://leporem-art-media-dev.s3.amazonaws.com/items/item_image/b377df95-1307-490f-baae-7e3def0a7fb9.jpg",
                    "price": 10000,
                    "ordered_datetime": "2023-10-24T07:09:55.397999Z",
                    "order_status": "주문완료",
                    "is_reviewed": false,
                    "name": "홍길동",
                    "address": "서울특별시 강남구 테헤란로 427",
                    "detail_address": "7층",
                    "phone_number": "01012345678",
                    "zipcode": "12345"
                  }
                ]

  /sellers/orders/my:
    get:
      tags:
        - sellers
      summary: 판매자 주문 목록 조회
      description: 판매자의 주문 목록을 조회합니다.
      security:
        - leporemartTokenAuth: []
      responses:
        '200':
            description: 판매자 주문 목록 조회 성공
            content:
                application/json:
                  example:
                    [
                      {
                        "order_id": 23,
                        "item_id": 4,
                        "item_title": "test1",
                        "item_thumbnail_image": "https://leporem-art-media-dev.s3.amazonaws.com/items/item_image/cinamoroll.jpeg",
                        "price": 25000,
                        "ordered_datetime": "2023-10-02T02:30:18.872108Z",
                        "order_status": "배송중",
                        "buyer": "ghdwnstlr",
                        "buyer_name": "홍길동",
                        "address": "서울특별시 강남구 테헤란로 427",
                        "detail_address": "7층",
                        "zipcode": "12345",
                        "phone_number": "01012345678"
                      }
                    ]

  /exhibitions/{int:exhibition_id}/item/{int:exhibition_item_id}:
    patch:
      tags:
        - exhibitions
      summary: 전시전 작품 수정
      description: 전시전에 작품을 수정합니다.
      parameters:
        - name: exhibition_id
          in: path
          description: 전시 ID
          required: true
          schema:
            type: integer
        - name: exhibition_item_id
          in: path
          description: 전시전 작품 ID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                is_custom:
                  type: boolean
                  example: true
                  required: True
                template:
                  type: integer
                  example: 1
                title:
                  type: string
                  example: "생명의 세계"
                  required: True
                description:
                    type: string
                    example: "도자에서 느껴지는 생명을 표현하였습니다. 그릇에서도 식물이 자라나듯 화이팅!!"
                    required: True
                images:
                  type: array
                  items:
                    type: file
                    format: binary
                  example:
                    - hi.jpg
                    - hello.png
                  required: True
                sound:
                  type: string
                  example: "exhibitions/exhibition_item_sound/SellBuyMusic - C. Hunter - Possum And Taters.mp3"
                position:
                  type: integer
                  example: 1
                  required: True
                background_color:
                  type: string
                  example: "#E8F2DB"
                font_family:
                  type: string
                  example: "전주공예명조체"
                is_sale:
                  type: boolean
                  example: true
                  required: True
                price:
                  type: integer
                  example: 23000
                amount:
                  type: integer
                  example: 30
                shorts_url:
                  type: string
                  example: "items/item_shorts/0348f9bb-a42b-4fa8-99af-d7792172e06e.mp4"
              required:
                - is_custom
                - title
                - description
                - images
                - position
                - is_sale
      security:
        - leporemartTokenAuth: []
      responses:
        '200':
          description: 전시전 작품 수정 성공
          content:
            application/json:
              example:
                message: success